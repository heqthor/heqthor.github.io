<!doctype html>
<html>
  <head>
  <title>Tablero Con Torres</title>
  <meta http-equiv="Content-Type"
      content="text/html; charset=UTF-8">
  <style>
    body {text-aling: center; }
  </style>
</head>
  <body>
  <script
  src="http://mrdoob.github.com/three.js/build/three.min.js">
  </script>
  <script>
    
var escena = new THREE.Scene();
  var TEXTURABLANCO = new Object();
  var TEXTURANEGRO = new Object();
  var materialBlanco =  new Object();
  var materialNegro =  new Object();
  var semaforoBlanco=0;
    
  TEXTURABLANCO.setup= function(){
    var cargador = new THREE.TextureLoader();
    cargador.load("texturaMarmolBlanco.jpg",TEXTURABLANCO.retrollamada);
    semaforoBlanco=1;
  }
  
  TEXTURABLANCO.retrollamada= function(textura){
    materialBlanco = new THREE.MeshLambertMaterial({map: textura});
  }
  
  
  TEXTURANEGRO.setup= function(){
    var cargador = new THREE.TextureLoader();
    cargador.load("texturaMarmolNegro.jpg",TEXTURANEGRO.retrollamada);
    semaforoBlanco=1;
  }
  
  TEXTURANEGRO.retrollamada= function(textura){
    materialNegro = new THREE.MeshLambertMaterial({map: textura});
  }
  
  TEXTURANEGRO.loop=function(){
    if(TEXTURANEGRO.materialNegro !== undefined){
    }else{
      requestAnimationFrame(TEXTURANEGRO.loop());
    }
  }
    TEXTURABLANCO.setup();
  
    TEXTURANEGRO.setup();
   TEXTURANEGRO.loop(); 
    
  </script>
  <script src="./tablero.js"></script>
  <script src="./ejercicio_torre.js"></script>
  <script>
  var torre1 = torreMalla;
  var torre2=torre1.clone();
  var torre3=torre1.clone();
  var torre4=torre1.clone();
  ///torre1
  //var material = new THREE.MeshNormalMaterial();
  //var torreMalla = new THREE.Mesh(torreForma,material);
  torre1.material=new THREE.MeshLambertMaterial({color: 0xFFFFFF});
  torre1.torreMalla=new THREE.Mesh(torre1.torreForma, torre1.material);
  torre1.material.opacity=1;
  torre1.material.transparent=true;
  torre1.rotateX(Math.PI/2);
  torre1.position.x=-35;
  torre1.position.y=-35;
  torre1.position.z=5;
  torre1.scale.x=.2;
  torre1.scale.y=.2;
  torre1.scale.z=.2;
  escena.add(torre1);
  
  ///torre2
  torre2.material=new THREE.MeshLambertMaterial({color: 0xFFFFFF});
  torre2.torreMalla=new THREE.Mesh(torre1.torreForma, torre1.material);
  torre2.material.opacity=0.75;
  torre2.material.transparent=true;
  torre2.rotateX(Math.PI/2);
  torre2.position.x=-35;
  torre2.position.y=35;
  torre2.position.z=5;
  torre2.scale.x=.2;
  torre2.scale.y=.2;
  torre2.scale.z=.2;
  escena.add(torre2);
  
  ///torre3
  torre3.material=new THREE.MeshLambertMaterial({color: 0xFFFFFF});
  torre3.torreMalla=new THREE.Mesh(torre1.torreForma, torre1.material);
  torre3.material.opacity=0.5;
  torre3.material.transparent=true;
  torre3.rotateX(Math.PI/2);
  torre3.position.x=35;
  torre3.position.y=35;
  torre3.position.z=5;
  torre3.scale.x=.2;
  torre3.scale.y=.2;
  torre3.scale.z=.2;
  escena.add(torre3);
  
  ///torre4
  torre4.material=new THREE.MeshLambertMaterial({color: 0xFFFFFF});
  torre4.torreMalla=new THREE.Mesh(torre1.torreForma, torre1.material);
  torre4.material.opacity=0.25;
  torre4.material.transparent=true;
  torre4.rotateX(Math.PI/2);
  torre4.position.x=35;
  torre4.position.y=-35;
  torre4.position.z=5;
  torre4.scale.x=.2;
  torre4.scale.y=.2;
  torre4.scale.z=.2;
  escena.add(torre4);
  
  
  //----LUZ
  // CYAN
  var luz1 = new THREE.PointLight(0x00FFFF);
  luz1.position.x = -60;
  luz1.position.y = 60;
  luz1.position.z = 60;
  escena.add(luz1);
  
  // MAGENTA
  var luz2 = new THREE.PointLight(0xFF00FF);
  luz2.position.x = 60;
  luz2.position.y = 60;
  luz2.position.z = 60;
  escena.add(luz2);
  
  // AMARILLO
  var luz3 = new THREE.PointLight(0xFFFF00);
  luz3.position.x = -60;
  luz3.position.y = -60;
  luz3.position.z = 60;
  escena.add(luz3);


    var camara = new THREE.PerspectiveCamera();
    camara.position.x=000;
    camara.position.y=-100;
    camara.position.z=100;
    camara.lookAt(new THREE.Vector3(0,0,0));

    var renderizador = new THREE.WebGLRenderer();
    renderizador.setSize( window.innerHeight*.95,window.innerHeight*.95);
    document.body.appendChild(renderizador.domElement);


    renderizador.shadowMapEnabled = true;
    torre1.castShadow = true;
    torre2.castShadow = true;
    torre3.castShadow = true;
    torre4.castShadow = true;
    cuboMalla.receiveShadow = true;
    luz1.castShadow =true;
    luz2.castShadow =true;
    luz3.castShadow =true;
  
  renderizador.render(escena,camara);


  
  </script>
  <script>
    </script>
  </body>
</html>
